# Hash Table Explorer - Отчет о реализации

## 1. Основные функции приложения

"Hash Table Explorer" - это интерактивный визуализатор работы хеш-таблиц, который предоставляет следующие основные функции:

1. **Настройка параметров хеш-таблицы:**
   - Выбор размера таблицы (от 5 до 20 строк)
   - Выбор типа ключа (числовой или строковый)
   - Выбор метода хеширования (деление, умножение, многочлены)
   - Выбор метода разрешения коллизий (внешние цепочки, внутренние цепочки, линейное опробование, квадратичное опробование)

2. **Операции с хеш-таблицей:**
   - Добавление новых элементов с визуализацией процесса хеширования
   - Поиск существующих элементов с подсветкой результатов
   - Отображение коллизий и их разрешение согласно выбранному методу

3. **Визуализация:**
   - Отображение заполненности таблицы с цветовой индикацией (зеленый → желтый → красный)
   - Визуализация внешних цепочек в отдельном компоненте
   - Подсветка элементов при поиске
   - Интерактивные уведомления о результатах операций

## 2. Структура проекта

Проект организован в соответствии с принципами модульной архитектуры:

```
src/
├── components/         # UI компоненты
│   ├── ChainVisualizer.tsx         # Визуализация внешних цепочек
│   ├── ErrorNotification.tsx       # Компонент уведомлений об ошибках
│   ├── HashTableControls.tsx       # Панель управления хеш-таблицей
│   ├── HashTableVisualizer.tsx     # Визуализация хеш-таблицы
│   └── Notification.tsx            # Система уведомлений
├── lib/               # Библиотеки и алгоритмы
│   ├── collision/                  # Методы разрешения коллизий
│   │   ├── __tests__/              # Тесты для методов разрешения коллизий
│   │   └── collisionResolution.ts  # Реализация методов разрешения коллизий
│   ├── hashing/                    # Алгоритмы хеширования
│   │   ├── __tests__/              # Тесты для алгоритмов хеширования
│   │   └── hashFunctions.ts        # Реализация функций хеширования
│   ├── hashTable.ts                # Класс хеш-таблицы
│   └── utils.ts                    # Вспомогательные функции
├── types/             # Типы данных
│   └── hashTableTypes.ts           # Определения типов для хеш-таблицы
└── utils/             # Вспомогательные утилиты
```

## 3. Организация компонентов

Проект использует компонентный подход с разделением ответственности:

### Основные компоненты:

1. **App.tsx** - Главный компонент приложения, который:
   - Управляет состоянием приложения
   - Координирует взаимодействие между компонентами
   - Обрабатывает операции добавления и поиска ключей

2. **HashTableControls** - Панель управления, которая:
   - Предоставляет интерфейс для настройки параметров таблицы
   - Обрабатывает ввод пользовательских ключей
   - Включает элементы блокировки/разблокировки настроек

3. **HashTableVisualizer** - Визуализатор таблицы, который:
   - Отображает содержимое хеш-таблицы в табличном формате
   - Показывает индикатор заполненности таблицы
   - Реализует подсветку результатов поиска

4. **ChainVisualizer** - Компонент для отображения цепочек, который:
   - Визуализирует связи между элементами в методе внешних цепочек
   - Подсвечивает найденные элементы в цепочках
   - Отображает пустое состояние при отсутствии цепочек

5. **Notification** - Система уведомлений, которая:
   - Показывает разные типы уведомлений (успех, ошибка, предупреждение, информация)
   - Автоматически закрывается через заданный таймаут
   - Использует анимацию для плавного появления/исчезновения

## 4. Реализация библиотечного кода

### Хеш-функции (`lib/hashing/hashFunctions.ts`):

Проект поддерживает три метода хеширования:

1. **Метод деления:**
   ```typescript
   export function divisionMethod(key: number | string, m: number): number {
       if (typeof key === 'string') {
           key = stringToInteger(key);
       }
       return key % m; // h(k) = k mod m
   }
   ```

2. **Метод умножения:**
   ```typescript
   export function multiplicationMethod(key: number | string, m: number): number {
       const A = 0.6180339887; // Константа A (близка к золотому сечению)
       if (typeof key === 'string') {
           key = stringToInteger(key);
       }
       return Math.floor(m * ((key * A) % 1)); // h(k) = ⌊m × (k × A mod 1)⌋
   }
   ```

3. **Метод многочленов:**
   ```typescript
   export function polynomialDivisionMethod(key: string, m: number): number {
       const p = 31; // Простое число
       let hashValue = 0;
       for (let i = 0; i < key.length; i++) {
           hashValue += key.charCodeAt(i) * Math.pow(p, i);
       }
       return hashValue % m;
   }
   ```

### Методы разрешения коллизий (`lib/collision/collisionResolution.ts`):

Реализованы четыре метода разрешения коллизий:

1. **Внешние цепочки** - использует связный список для хранения элементов с одинаковым хеш-значением
2. **Внутренние цепочки** - использует дополнительное поле для указания индекса следующего элемента с тем же хеш-значением
3. **Линейное опробование** - просматривает последовательные ячейки при коллизии
4. **Квадратичное опробование** - использует квадратичную функцию для определения следующей ячейки при коллизии

### Класс HashTable (`lib/hashTable.ts`):

Основной класс для работы с хеш-таблицей, который:
- Хранит данные в массиве узлов
- Предоставляет методы для вставки и поиска элементов
- Отслеживает заполненность таблицы
- Обеспечивает доступ к внутренней структуре для визуализации

## 5. Система тестирования

Проект использует Vitest для тестирования функциональности хеш-таблицы:

### Тесты хеш-функций (`lib/hashing/__tests__/hashFunctions.test.ts`):

Тестируют корректность работы всех трех методов хеширования:
- Проверка корректности хеширования числовых ключей
- Проверка корректности хеширования строковых ключей
- Тестирование граничных случаев (пустые строки, отрицательные числа)
- Проверка диапазона возвращаемых значений

### Тесты методов разрешения коллизий (`lib/collision/__tests__/collisionResolution.test.ts`):

Тестируют правильность работы методов разрешения коллизий:
- Проверка вставки без коллизий
- Проверка правильного разрешения коллизий
- Тестирование обработки переполнения таблицы
- Проверка поиска существующих и несуществующих ключей

## 6. Графический интерфейс

Проект использует современный стек для построения UI:
- **Tailwind CSS** для стилизации компонентов
- **Shadcn/UI** для готовых компонентов интерфейса

### Ключевые элементы интерфейса:

1. **Панель управления:**
   - Интуитивно понятные элементы управления (слайдеры, селекторы, поля ввода)
   - Визуальная блокировка параметров после создания таблицы
   - Валидация вводимых данных

2. **Визуализация хеш-таблицы:**
   - Табличное представление с подсветкой ячеек
   - Индикатор заполненности с цветовой кодировкой
   - Адаптивный дизайн для разных размеров экрана

3. **Визуализация цепочек:**
   - Графическое представление связей между элементами
   - Подсветка элементов при поиске
   - Информативные метки с количеством элементов в цепочке

## 7. Интерактивные элементы

### Система уведомлений:

Реализована система уведомлений с разными типами сообщений:
- **Успех** (зеленый): сообщения об успешном добавлении или поиске
- **Ошибка** (красный): сообщения о переполнении таблицы или других ошибках
- **Предупреждение** (желтый): сообщения о дубликатах или ненайденных ключах
- **Информация** (синий): информационные сообщения

Каждое уведомление включает:
- Иконку, соответствующую типу сообщения
- Заголовок и текст сообщения
- Анимированную полосу прогресса для таймаута
- Кнопку закрытия для ручного скрытия

### Подсветка элементов:

Для улучшения визуального представления используется подсветка:
- Подсветка строки таблицы при успешном поиске
- Подсветка цепочки и конкретного элемента в цепочке при поиске
- Изменение цвета индикатора заполнения в зависимости от загруженности таблицы

### Прочие интерактивные элементы:

- Блокировка/разблокировка настроек таблицы
- Адаптивная верстка для разных размеров экрана
- Анимации при добавлении и поиске элементов
- Интерактивные предупреждения о заполненности таблицы

## 8. Заключение

"Hash Table Explorer" представляет собой полноценный интерактивный инструмент для изучения принципов работы хеш-таблиц. Проект демонстрирует различные аспекты разработки современных веб-приложений:

- Модульную архитектуру с четким разделением ответственности
- Типизированную реализацию с использованием TypeScript
- Компонентный подход к построению пользовательского интерфейса
- Тестирование критических частей приложения
- Современный и отзывчивый пользовательский интерфейс

Приложение может быть использовано в образовательных целях для наглядной демонстрации алгоритмов хеширования и методов разрешения коллизий, что делает его ценным инструментом для студентов и преподавателей информатики. 